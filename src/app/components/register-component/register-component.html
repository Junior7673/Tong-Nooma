<div class="register-container"> 
  <div class="register-card"> 
    <h1>Inscription</h1> 
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate> 
      
      <!-- Nom --> 
      <div class="form-group"> 
        <label for="nom">Nom</label> 
        <input id="nom" type="text" formControlName="nom" [class.invalid]="nom?.invalid && nom?.touched" />
         <div class="error" *ngIf="nom?.invalid && nom?.touched"> Le nom est requis et ne doit pas contenir de caractères spéciaux. </div> 
      </div> 
      
      <!-- Prénom --> 
      <div class="form-group"> 
        <label for="prenom">Prénom</label> 
        <input id="prenom" type="text" formControlName="prenom" [class.invalid]="prenom?.invalid && prenom?.touched" /> 
        <div class="error" *ngIf="prenom?.invalid && prenom?.touched"> Le prénom est requis et ne doit pas contenir de caractères spéciaux. </div> 
      </div> 
      
      <!-- Email --> 
      <div class="form-group"> 
        <label for="email">Email</label> 
        <input id="email" type="email" formControlName="email" [class.invalid]="email?.invalid && email?.touched" /> 
        <div class="error" *ngIf="email?.invalid && email?.touched"> Veuillez saisir un email valide. </div> 
      </div> 
      
      <!-- Téléphone --> 
      <div class="form-group"> <label for="telephone">Téléphone</label> 
        <input id="telephone" type="tel" formControlName="telephone" [class.invalid]="telephone?.invalid && telephone?.touched" /> 
        <div class="error" *ngIf="telephone?.errors?.['invalidTelephone'] && telephone?.touched"> Numéro invalide — 8 à 20 chiffres, espaces et + autorisés. </div> 
      </div> 

      <!-- Password --> <!-- Password --> 
      <div class="form-group password-group"> 
        <label for="password">Mot de passe</label> 
        <div class="password-wrapper"> 
          <input id="password" [type]="hidePassword ? 'password' : 'text'" formControlName="password" autocomplete="new-password" [class.invalid]="password?.invalid && password?.touched" /> 
          <button type="button" class="toggle-password" (click)="hidePassword = !hidePassword" tabindex="-1" > 
            <span *ngIf="hidePassword">👁️</span> 
            <span *ngIf="!hidePassword">🙈</span> 
          </button> 
        </div> <div class="error" *ngIf="password?.invalid && password?.touched"> Mot de passe faible — utilisez majuscules, minuscules, chiffres et caractères spéciaux. </div> 
        </div> 
        <!-- Date <div class="form-group"> <label for="dateInscrip">Date d'inscription</label> <input id="dateInscrip" type="date" formControlName="dateInscrip" [class.invalid]="dateInscrip?.invalid && dateInscrip?.touched" /> <div class="error" *ngIf="dateInscrip?.invalid && dateInscrip?.touched"> Veuillez fournir une date valide. </div> </div> --> 
        
        <!-- Messages généraux --> 
        <div class="message success" *ngIf="successMessage">{{ successMessage }}</div> 
        <div class="message error" *ngIf="errorMessage">{{ errorMessage }}</div> 
        
        <!-- Bouton --> 
        <button type="submit" [disabled]="registerForm.invalid || isLoading"> {{ isLoading ? 'Envoi...' : 'S\'inscrire' }} </button> 
      </form> 
      
      <div class="switch-link"> 
        <a routerLink="/login">Déjà un compte ? Se connecter</a> 
      </div> 
    </div> 
  </div>