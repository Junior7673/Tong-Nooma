<!--Hero-->
<section class="hero">
  <div class="hero-content">
    <h1>Bienvenue au Club Tong Nooma</h1>
    <p>Amoureux du sport et des arts martiaux venez dÃ©couvrir
      ce que c'est que le VOVINAM Viet Vo Dao.</p>
    <a href="https://www.facebook.com/share/19ndzFQJrg/?mibextid=wwXIfr" class="cta-btn" target="_blank" rel="noopener noreferrer">
      Rejoignez notre communautÃ©
    </a>
  </div>
</section>

<!--Ã€ Propos-->
<section class="about" id="about">
  <div class="about-wrapper">
    <div class="about-img">
      <img src="/assets/maitre.webp" alt="MaÃ®tre Tong Nooma">
    </div>
    <div class="about-text">
      <h2>Ã€ propos</h2>
      <p>
        Tong Nooma est bien plus qu'une Ã©cole d'arts martiaux. C'est une communautÃ© oÃ¹ l'on apprend
        le respect, la discipline et la maÃ®trise de soi Ã  travers le VOVINAM Viet Vo Dao.
        Nos cours sont ouverts Ã  tous les niveaux, encadrÃ©s par des maÃ®tres passionnÃ©s.
      </p>
      <a routerLink="/programs" class="cta-btn">DÃ©couvrir nos programmes</a>
    </div>
  </div>
</section>

<!-- Section ActualitÃ©s IntÃ©grÃ©e-->
<section class="news-home" id="news">
  <h2>ActualitÃ©s RÃ©centes</h2>
  
  @if (isLoadingNews) {
    <div class="news-loader">
      <span class="spinner"></span> Chargement des actualitÃ©s...
    </div>
  }
  
  @if (!isLoadingNews && recentActualites.length > 0) {
    <div class="news-preview">
      @for (actu of recentActualites; track actu.id) {
        <article class="news-card" (click)="scrollToSection('news-detail-' + actu.id)">
          @if (actu.imageUrl) {
            <div class="news-card__image">
              <img [src]="actu.imageUrl" [alt]="actu.titre" loading="lazy">
            </div>
          }
          <div class="news-card__content">
            <h3>{{ actu.titre }}</h3>
            <p>{{ actu.contenu | slice:0:120 }}{{ actu.contenu.length > 120 ? '...' : '' }}</p>
            <small class="news-date">{{ actu.datePub | date:'dd/MM/yyyy' }}</small>
          </div>
        </article>
      }
    </div>
    
    <div class="news-cta">
      <button class="cta-btn" routerLink="/news">
        ðŸ“° Voir toutes les actualitÃ©s
      </button>
    </div>
  }
  
  @if (!isLoadingNews && recentActualites.length === 0) {
    <div class="news-empty">
      ðŸ“° Aucune actualitÃ© rÃ©cente disponible.
    </div>
  }
</section>

<!--Horaires-->
<section class="programs" id="programs">
  <h2>Nos diffÃ©rÃ¨nts Programmes et Horaires de cours</h2>
  <div class="program-list">
    <div class="program-card">
      <h3>SÃ©ance Enfants Vovinam</h3>
      <p>Mercredi 16h - 18h</p>
      <p>Samedi 16h - 18h</p>
    </div>
    <div class="program-card">
      <h3>SÃ©ance Adultes Vovinam</h3>
      <p>Lundi 18h30 - 20h</p>
      <p>Mardi 18h - 20h</p>
      <p>Jeudi 18h - 20h</p>
      <p>Samedi 16h - 18h</p>
    </div>
    <div class="program-card">
      <h3>Musculations</h3>
      <p>Tous les jours du lundi au vendredi 18h - 20h</p>
      
    </div>
    <div class="program-card">
      <h3>AÃ©robic</h3>
      <p>Lundi 18h - 20h</p>
      <p>Mercredi 18h - 20h</p>
      <p>Vendredi 18h - 20h</p>
    </div>
  </div>
</section>

<!-- Galerie dynamique 

<section class="galerie" id="gallery" (keydown)="onKeyDown($event)" tabindex="0">
  <header class="galerie__header">
    <h2 class="section-title">ðŸ“¸ Galerie MÃ©dia</h2>
    @if (!isLoading()) {
      <div class="galerie__stats">
        <span>ðŸ“Š {{ filteredMediasCount() }} / {{ totalMediasCount() }}</span>
        <span>ðŸ“¸ {{ photosCount() }} photos</span>
        <span>ðŸŽ¬ {{ videosCount() }} vidÃ©os</span>
      </div>
    }
  </header>-->

  <!-- Filtres 
  <div class="galerie__filters">
    <button (click)="filterByType('all')" [class.active]="currentFilter().type === 'all'">Tous</button>
    <button (click)="filterByType('PHOTO')" [class.active]="currentFilter().type === 'PHOTO'">ðŸ“¸ Photos</button>
    <button (click)="filterByType('VIDEO')" [class.active]="currentFilter().type === 'VIDEO'">ðŸŽ¬ VidÃ©os</button>

    <input
      type="text"
      placeholder="ðŸ” Rechercher..."
      [value]="searchTerm()"
      (input)="updateSearch($event.target.value)"
      class="galerie__search"
    />

    <button (click)="resetFilters()" class="galerie__reset">â†º RÃ©initialiser</button>
  </div> -->

  <!-- Loader 
  @if (isLoading()) {
    <div class="galerie__loader">
      <span class="spinner"></span> Chargement des mÃ©dias...
    </div>
  } -->

  <!-- Grille 
  @if (!isLoading() && filteredMedias().length > 0) {
    <div class="galerie__grid">
      @for (media of filteredMedias(); track media.id) {
        <div class="galerie__card" (click)="openMediaDetail(media)">
          <div class="galerie__thumb">
            <img
              [src]="media.url"
              [alt]="media.description || media.type"
              (error)="onImageError($event)"
              loading="lazy"
            />
            <span class="galerie__icon">{{ getTypeIcon(media.type) }}</span>
          </div>
          <div class="galerie__info">
            <h3>{{ media.description || 'Sans description' }}</h3>
            <small>{{ formatDate(media.dateAjout) }}</small>
          </div>
        </div>
      }
    </div>
  }-->

  <!-- Aucun mÃ©dia 
  @if (!isLoading() && filteredMedias().length === 0) {
    <div class="galerie__empty">
      ðŸš« Aucun mÃ©dia ne correspond Ã  vos critÃ¨res.
    </div>
  } -->

  <!-- Vue dÃ©taillÃ©e 
  @if (selectedMedia()) {
    <div class="galerie__overlay" (click)="closeMediaDetail()">
      <div class="galerie__detail" (click)="$event.stopPropagation()">
        <button class="galerie__close" (click)="closeMediaDetail()">âœ–</button>
        <h2>{{ selectedMedia()?.description || 'DÃ©tail du mÃ©dia' }}</h2>
        <p>{{ formatDate(selectedMedia()?.dateAjout) }}</p>
        <div class="galerie__media">
          @if (isPhoto(selectedMedia()!)) {
            <img
              [src]="selectedMedia()?.url"
              [alt]="selectedMedia()?.description"
              (error)="onImageError($event)"
            />
          } @else {
            <video controls [src]="selectedMedia()?.url"></video>
          }
        </div>
        <div class="galerie__meta">
          <span>{{ getTypeLabel(selectedMedia()?.type!) }}</span>
        </div>
      </div>
    </div>
  }
</section>
-->

<!--Contact-->
<section class="contact" id="contact">
  <h2 class="section-title">ðŸ“ž Contact</h2>
  <div class="contact-info">
    <p><strong>TÃ©lÃ©phone :</strong> <a href="tel:+22670256991">70256991</a> / <a href="tel:+22663629819">63629819</a></p>
    <p><strong>Email :</strong> <a href="mailto:ouedraogoratasida76@gmail.com">ouedraogoratasida76@gmail.com</a></p>
  </div>
</section>
